{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAIA,MAAMC,EAAOC,SAASC,cAAc,QAC9BC,EAAYF,SAASC,cAAc,UAKzC,SAASE,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC7BC,YAAW,KACaC,KAAKC,SAAW,GAEpCJ,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,GAE1BA,EAAM,G,CAZbN,EAAKa,iBAAiB,UAetB,SAAsBC,GACpBA,EAAKC,iBACLZ,EAAUa,UAAW,EACrB,MAAQC,UAAUC,KAAEA,EAAIC,OAAEA,EAAQb,MAAAc,IAAYN,EAAKO,cAC7CC,EAAW,GACjB,IAAK,IAAIC,EAAI,EAAGA,GAAKJ,EAAOK,cAAeD,IAAK,CAC9C,MAAME,EAAWL,EAAMI,eAAkBD,EAAI,GAAKL,EAAKM,cACvDF,EAASI,KAAKtB,EAAcmB,EAAGE,GAC5BE,MAAK,EAACtB,SAAEA,EAAQC,MAAEA,MACjBsB,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAqBzB,QAAiBC,MAAU,IAEzEyB,OAAM,EAAC1B,SAAEA,EAAQC,MAAEA,MAClBsB,EAAA9B,GAAS+B,OAAOG,QAAQ,sBAAoB3B,QAAeC,MAAU,I,CAI7EC,QAAQ0B,IAAIX,GACTY,SAAQ,KAAQ/B,EAAUa,UAAW,CAAK,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\n\n\nconst form = document.querySelector('form');\nconst btmSubmit = document.querySelector('button');\n\n\nform.addEventListener('submit', onSubmitForm)\n\nfunction createPromise(position, delay) {\n  \n  return new Promise((resolve, reject) => {\n  setTimeout(() => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n    }, delay) })  \n}\n\nfunction onSubmitForm(even) {\n  even.preventDefault();\n  btmSubmit.disabled = true;\n  const { elements: { step, amount, delay } } = even.currentTarget;\n  const promises = [];\n  for (let i = 1; i <= amount.valueAsNumber; i++) {\n    const newDelay = delay.valueAsNumber + ((i - 1) * step.valueAsNumber);\n    promises.push(createPromise(i, newDelay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      }));\n    \n  }\nPromise.all(promises)\n  .finally(() => { btmSubmit.disabled = false })\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$btmSubmit","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","addEventListener","even","preventDefault","disabled","elements","step","amount","delay1","currentTarget","promises","i","valueAsNumber","newDelay","push","then","$parcel$interopDefault","Notify","success","catch","failure","all","finally"],"version":3,"file":"03-promises.074fe50e.js.map"}