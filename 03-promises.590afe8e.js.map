{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAIMC,EAAOC,SAASC,cAAc,QAC9BC,EAAYF,SAASC,cAAc,UAKzC,SAASE,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC7BC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAQ,CAAEH,WAAUC,UAEpBG,EAAO,CAAEJ,WAAUC,S,GAElBA,E,IAZPN,EAAKa,iBAAiB,UAetB,SAAsBC,GACpBA,EAAKC,iBACLZ,EAAUa,UAAW,EAGrB,IAFA,IAAgEC,EAAlBH,EAAKI,cAA3CC,SAAYC,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OAAQC,EAAKL,EAALX,MAC5BiB,EAAW,GACRC,EAAI,EAAGA,GAAKH,EAAOI,cAAeD,IAAK,CAC9C,IAAME,EAAWJ,EAAMG,eAAkBD,EAAI,GAAKJ,EAAKK,cACvDF,EAASI,KAAKvB,EAAcoB,EAAGE,GAC5BE,MAAK,SAAAC,G,IAAGxB,EAAQwB,EAARxB,SAAUC,EAAKuB,EAALvB,MACjBwB,EAAAhC,GAASiC,OAAOC,QAAQ,uBAAwCC,OAAf5B,EAAS,QAAY4B,OAAN3B,EAAM,M,IAEvE4B,OAAM,SAAAL,G,IAAGxB,EAAQwB,EAARxB,SAAUC,EAAKuB,EAALvB,MAClBwB,EAAAhC,GAASiC,OAAOI,QAAQ,sBAAqCF,OAAf5B,EAAS,QAAY4B,OAAN3B,EAAM,M,KAI3EC,QAAQ6B,IAAIb,GACTc,SAAQ,WAAQlC,EAAUa,UAAW,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\n\n\nconst form = document.querySelector('form');\nconst btmSubmit = document.querySelector('button');\n\n\nform.addEventListener('submit', onSubmitForm)\n\nfunction createPromise(position, delay) {\n  \n  return new Promise((resolve, reject) => {\n  setTimeout(() => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n    }, delay) })  \n}\n\nfunction onSubmitForm(even) {\n  even.preventDefault();\n  btmSubmit.disabled = true;\n  const { elements: { step, amount, delay } } = even.currentTarget;\n  const promises = [];\n  for (let i = 1; i <= amount.valueAsNumber; i++) {\n    const newDelay = delay.valueAsNumber + ((i - 1) * step.valueAsNumber);\n    promises.push(createPromise(i, newDelay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      }));\n    \n  }\nPromise.all(promises)\n  .finally(() => { btmSubmit.disabled = false })\n}\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$btmSubmit","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","addEventListener","even","preventDefault","disabled","_elements","currentTarget","elements","step","amount","delay1","promises","i","valueAsNumber","newDelay","push","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","all","finally"],"version":3,"file":"03-promises.590afe8e.js.map"}